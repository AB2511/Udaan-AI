/**
 * Learning Resources Mapping
 * Maps skills to real, actionable learning resources
 */

export const learningResources = {
  // Data Structures & Algorithms
  "DSA": [
    { title: "GeeksforGeeks DSA Python", link: "https://www.geeksforgeeks.org/python-programming-examples/" },
    { title: "Leetcode DSA Practice", link: "https://leetcode.com/explore/learn/card/data-structure-and-algorithms/" },
    { title: "AlgoExpert DSA Course", link: "https://www.algoexpert.io/" }
  ],
  "Data Structures": [
    { title: "GeeksforGeeks Data Structures", link: "https://www.geeksforgeeks.org/data-structures/" },
    { title: "Coursera Data Structures", link: "https://www.coursera.org/learn/data-structures" }
  ],
  "Algorithms": [
    { title: "Introduction to Algorithms", link: "https://mitpress.mit.edu/books/introduction-algorithms-third-edition" },
    { title: "Algorithm Visualizer", link: "https://algorithm-visualizer.org/" }
  ],

  // Cloud Platforms
  "AWS": [
    { title: "AWS Cloud Practitioner Essentials", link: "https://aws.amazon.com/training/course-descriptions/cloud-practitioner-essentials/" },
    { title: "AWS Free Tier Hands-on", link: "https://aws.amazon.com/free/" },
    { title: "A Cloud Guru AWS Courses", link: "https://acloudguru.com/aws-cloud-training" }
  ],
  "Azure": [
    { title: "Microsoft Azure Fundamentals", link: "https://docs.microsoft.com/en-us/learn/paths/azure-fundamentals/" },
    { title: "Azure Free Account", link: "https://azure.microsoft.com/en-us/free/" }
  ],
  "GCP": [
    { title: "Google Cloud Skills Boost", link: "https://www.cloudskillsboost.google/" },
    { title: "GCP Free Tier", link: "https://cloud.google.com/free" }
  ],

  // DevOps & Containerization
  "Docker": [
    { title: "Docker Getting Started", link: "https://docs.docker.com/get-started/" },
    { title: "Docker 101 Tutorial", link: "https://www.docker.com/101-tutorial" },
    { title: "Play with Docker", link: "https://labs.play-with-docker.com/" }
  ],
  "Kubernetes": [
    { title: "Kubernetes Basics", link: "https://kubernetes.io/docs/tutorials/kubernetes-basics/" },
    { title: "Kubernetes by Example", link: "https://kubernetesbyexample.com/" },
    { title: "Play with Kubernetes", link: "https://labs.play-with-k8s.com/" }
  ],
  "Jenkins": [
    { title: "Jenkins User Documentation", link: "https://www.jenkins.io/doc/" },
    { title: "Jenkins Pipeline Tutorial", link: "https://www.jenkins.io/doc/book/pipeline/" }
  ],
  "Terraform": [
    { title: "Terraform Getting Started", link: "https://learn.hashicorp.com/terraform" },
    { title: "Terraform Documentation", link: "https://www.terraform.io/docs" }
  ],

  // Programming Languages
  "Python": [
    { title: "Python.org Official Tutorial", link: "https://docs.python.org/3/tutorial/" },
    { title: "Real Python Tutorials", link: "https://realpython.com/" },
    { title: "Python for Everybody Coursera", link: "https://www.coursera.org/specializations/python" }
  ],
  "JavaScript": [
    { title: "MDN JavaScript Guide", link: "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide" },
    { title: "JavaScript.info", link: "https://javascript.info/" },
    { title: "FreeCodeCamp JavaScript", link: "https://www.freecodecamp.org/learn/javascript-algorithms-and-data-structures/" }
  ],
  "Java": [
    { title: "Oracle Java Tutorials", link: "https://docs.oracle.com/javase/tutorial/" },
    { title: "Java Code Geeks", link: "https://www.javacodegeeks.com/" }
  ],
  "TypeScript": [
    { title: "TypeScript Handbook", link: "https://www.typescriptlang.org/docs/" },
    { title: "TypeScript Deep Dive", link: "https://basarat.gitbook.io/typescript/" }
  ],

  // Web Development Frameworks
  "React": [
    { title: "React Official Documentation", link: "https://reactjs.org/docs/getting-started.html" },
    { title: "React Tutorial", link: "https://reactjs.org/tutorial/tutorial.html" },
    { title: "React Hooks Guide", link: "https://reactjs.org/docs/hooks-intro.html" }
  ],
  "Angular": [
    { title: "Angular Official Tutorial", link: "https://angular.io/tutorial" },
    { title: "Angular University", link: "https://angular-university.io/" }
  ],
  "Vue.js": [
    { title: "Vue.js Guide", link: "https://vuejs.org/v2/guide/" },
    { title: "Vue Mastery", link: "https://www.vuemastery.com/" }
  ],
  "Node.js": [
    { title: "Node.js Getting Started", link: "https://nodejs.org/en/docs/guides/getting-started-guide/" },
    { title: "Node.js Best Practices", link: "https://github.com/goldbergyoni/nodebestpractices" }
  ],

  // Databases
  "MySQL": [
    { title: "MySQL Tutorial", link: "https://dev.mysql.com/doc/mysql-tutorial-excerpt/8.0/en/" },
    { title: "W3Schools MySQL", link: "https://www.w3schools.com/mysql/" }
  ],
  "MongoDB": [
    { title: "MongoDB University", link: "https://university.mongodb.com/" },
    { title: "MongoDB Manual", link: "https://docs.mongodb.com/manual/" }
  ],
  "PostgreSQL": [
    { title: "PostgreSQL Tutorial", link: "https://www.postgresql.org/docs/current/tutorial.html" },
    { title: "PostgreSQL Exercises", link: "https://pgexercises.com/" }
  ],

  // Machine Learning & Data Science
  "Machine Learning": [
    { title: "Coursera ML Course by Andrew Ng", link: "https://www.coursera.org/learn/machine-learning" },
    { title: "Kaggle Learn ML", link: "https://www.kaggle.com/learn/intro-to-machine-learning" },
    { title: "Fast.ai Practical Deep Learning", link: "https://course.fast.ai/" }
  ],
  "TensorFlow": [
    { title: "TensorFlow Official Tutorials", link: "https://www.tensorflow.org/tutorials" },
    { title: "TensorFlow Developer Certificate", link: "https://www.tensorflow.org/certificate" }
  ],
  "PyTorch": [
    { title: "PyTorch Tutorials", link: "https://pytorch.org/tutorials/" },
    { title: "Deep Learning with PyTorch", link: "https://pytorch.org/deep-learning-with-pytorch" }
  ],
  "Pandas": [
    { title: "Pandas Getting Started", link: "https://pandas.pydata.org/docs/getting_started/index.html" },
    { title: "10 Minutes to Pandas", link: "https://pandas.pydata.org/docs/user_guide/10min.html" }
  ],
  "NumPy": [
    { title: "NumPy Quickstart", link: "https://numpy.org/doc/stable/user/quickstart.html" },
    { title: "NumPy Tutorial", link: "https://numpy.org/doc/stable/user/absolute_beginners.html" }
  ],

  // Version Control & Development Tools
  "Git": [
    { title: "Pro Git Book", link: "https://git-scm.com/book/en/v2" },
    { title: "GitHub Git Handbook", link: "https://guides.github.com/introduction/git-handbook/" },
    { title: "Interactive Git Tutorial", link: "https://learngitbranching.js.org/" }
  ],
  "GitHub": [
    { title: "GitHub Skills", link: "https://skills.github.com/" },
    { title: "GitHub Actions Documentation", link: "https://docs.github.com/en/actions" }
  ],

  // System Design & Architecture
  "System Design": [
    { title: "System Design Primer", link: "https://github.com/donnemartin/system-design-primer" },
    { title: "High Scalability", link: "http://highscalability.com/" },
    { title: "System Design Interview", link: "https://www.educative.io/courses/grokking-the-system-design-interview" }
  ],
  "Microservices": [
    { title: "Microservices.io", link: "https://microservices.io/" },
    { title: "Building Microservices Book", link: "https://samnewman.io/books/building_microservices/" }
  ],

  // Soft Skills & Career Development
  "Communication": [
    { title: "Toastmasters International", link: "https://www.toastmasters.org/" },
    { title: "TED Talks on Communication", link: "https://www.ted.com/topics/communication" }
  ],
  "Leadership": [
    { title: "Harvard Business Review Leadership", link: "https://hbr.org/topic/leadership" },
    { title: "Coursera Leadership Courses", link: "https://www.coursera.org/browse/business/leadership-and-management" }
  ],
  "Project Management": [
    { title: "PMI Project Management", link: "https://www.pmi.org/" },
    { title: "Agile Alliance", link: "https://www.agilealliance.org/" },
    { title: "Scrum.org Learning Path", link: "https://www.scrum.org/learning-series" }
  ],

  // Default fallback for unknown skills
  "default": [
    { title: "Coursera", link: "https://www.coursera.org/" },
    { title: "edX", link: "https://www.edx.org/" },
    { title: "Udemy", link: "https://www.udemy.com/" }
  ]
};

/**
 * Get learning resources for a specific skill
 * @param {string} skill - The skill to get resources for
 * @returns {Array} Array of learning resources
 */
export const getResourcesForSkill = (skill) => {
  const normalizedSkill = skill.trim();
  
  // Direct match
  if (learningResources[normalizedSkill]) {
    return learningResources[normalizedSkill];
  }
  
  // Partial match (case insensitive)
  const partialMatch = Object.keys(learningResources).find(key => 
    key.toLowerCase().includes(normalizedSkill.toLowerCase()) ||
    normalizedSkill.toLowerCase().includes(key.toLowerCase())
  );
  
  if (partialMatch) {
    return learningResources[partialMatch];
  }
  
  // Return default resources
  return learningResources.default;
};

/**
 * Get learning path with real resources
 * @param {Array} skillGaps - Array of skill gaps
 * @returns {Array} Learning path with real resources
 */
export const generateLearningPathWithResources = (skillGaps) => {
  return skillGaps.slice(0, 3).map((gap, index) => {
    const skill = typeof gap === 'string' ? gap : gap.skill;
    const priority = typeof gap === 'object' ? gap.priority : 'medium';
    const resources = getResourcesForSkill(skill);
    
    return {
      title: `Master ${skill}`,
      duration: priority === 'high' ? '3-4 weeks' : '2-3 weeks',
      priority,
      resources: resources.slice(0, 2) // Take top 2 resources
    };
  });
};